(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-98620e7a"],{"0c01":function(e,t,r){},"3a01":function(e,t,r){"use strict";var a=r("0c01"),n=r.n(a);n.a},"4c84":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:"修改",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{attrs:{model:e.choise}},[r("el-form-item",{attrs:{label:"用户id","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.choise.userId,callback:function(t){e.$set(e.choise,"userId",t)},expression:"choise.userId"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"卖书金额","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.choise.sellPrice,callback:function(t){e.$set(e.choise,"sellPrice",t)},expression:"choise.sellPrice"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"书籍id","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.choise.sellBookId,callback:function(t){e.$set(e.choise,"sellBookId",t)},expression:"choise.sellBookId"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"地址id","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.choise.mailingId,callback:function(t){e.$set(e.choise,"mailingId",t)},expression:"choise.mailingId"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.update()}}},[e._v("确 定")])],1)],1),e._v(" "),r("el-table",{attrs:{data:e.booksWithPage.rows,border:""}},[r("el-table-column",{attrs:{align:"center",sortable:"",prop:"orderId",label:"订单id",width:"160"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"userId",label:"用户id",width:"100"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"orderStatus",label:"订单状态",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-select",{attrs:{placeholder:e.status[t.row.orderStatus]},on:{change:function(r){return e.changeStatus(t.row.orderId,e.orderMap[t.row.orderId].orderStatus)}},model:{value:e.orderMap[t.row.orderId].orderStatus,callback:function(r){e.$set(e.orderMap[t.row.orderId],"orderStatus",r)},expression:"orderMap[props.row.orderId].orderStatus"}},e._l(e.options,function(t,a){return r("el-option",{key:a,attrs:{label:t.label,value:t.value,disabled:t.disabled}},[r("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))])])}),1)]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"transactionTime",label:"交易时间"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"sellPrice",label:"交易金额",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"sellBookId",label:"交易书籍id"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"是否匿名卖书",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(0==t.row.sell_anonymous?"是":"否"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"mailingId",label:"寄件地址id",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"修改时间"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(r){return e.edit(t.row)}}},[e._v("编辑")]),e._v(" "),r("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(r){return e.del(t.row.orderId)}}},[e._v("删除")])]}}])})],1),e._v(" "),r("div",{staticClass:"block",staticStyle:{padding:"16px 16px"}},[r("el-pagination",{attrs:{"current-page":e.page.index,"page-sizes":[2,5,10,20,30,50,100,200,500],"page-size":e.page.size,layout:"total, sizes, prev, pager, next, jumper",total:e.booksWithPage.total},on:{"update:currentPage":function(t){return e.$set(e.page,"index",t)},"update:current-page":function(t){return e.$set(e.page,"index",t)},"update:pageSize":function(t){return e.$set(e.page,"size",t)},"update:page-size":function(t){return e.$set(e.page,"size",t)}}})],1)],1)},n=[],o=(r("96cf"),r("3b8d")),l=r("bc3a"),i=r.n(l),s={data:function(){return{choise:{},orders:[],status:["已下单","待安排快递","已取消","快递取书","待收货","待审核","已审核打款","已完成"],value:"",options:[{value:0,label:"已下单"},{value:1,label:"待安排快递"},{value:2,label:"已取消"},{value:3,label:"快递取书"},{value:4,label:"待收货"},{value:5,label:"待审核"},{value:6,label:"已审核打款",disabled:!0},{value:7,label:"已完成",disabled:!0}],page:{size:10,index:1},dialogFormVisible:!1,formLabelWidth:"120px"}},computed:{orderMap:function(){var e={};return this.orders.map(function(t){return e[t.orderId]=t}),e},booksWithPage:function(){var e=(this.page.index-1)*this.page.size;return{rows:this.orders.slice(e,e+this.page.size),total:this.orders.length}}},created:function(){this.loadOrder()},methods:{loadOrder:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.orders=[],e.next=3,i.a.get("/order/queryOrders").then(function(e){for(var r in console.info(e.data.data),e.data.data)t.orders.push(e.data.data[r])});case 3:null==this.orders&&(this.orders=[]);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),changeStatus:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.info("订单号",t),console.info("状态",r),e.next=4,i.a.put("/order/updateStatus",{orderId:t,orderStatus:r}).then(this.loadOrder());case 4:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}(),del:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$confirm("确认删除订单【"+t+"】？","确认删除",{type:"danger"}).then(Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("/order/del?orderId="+t);case 2:r.loadOrder(),r.$message({type:"success",message:"删除成功！"});case 4:case"end":return e.stop()}},e)}))).catch(function(){r.$message({type:"info",message:"已取消删除"})});case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),edit:function(e){return this.choise=null,this.dialogFormVisible=!0,this.choise=JSON.parse(JSON.stringify(e)),console.info(this.choise),this.choise},update:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.dialogFormVisible=!1,e.next=3,i.a.put("/order/update",this.choise);case 3:return this.loadOrder(),this.$message({type:"success",message:"修改成功!"}),e.abrupt("return",this.dialogFormVisible);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},u=s,c=(r("3a01"),r("2877")),d=Object(c["a"])(u,a,n,!1,null,null,null);t["default"]=d.exports}}]);