(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d229afb"],{df03:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-input",{attrs:{placeholder:"输入ISBN"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),e._v(" "),n("el-button",{on:{click:e.addBook}},[e._v("添加")]),e._v(" "),n("el-table",{attrs:{data:e.booksWithPage.rows,border:""}},[n("el-table-column",{attrs:{align:"center",prop:"pic",label:"封面"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("img",{staticStyle:{width:"50px",height:"80px"},attrs:{src:e.row.pic,alt:""}})]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",sortable:"",prop:"userId",label:"ID"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"bookId",label:"书籍id"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"title",label:"书名"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"author",label:"作者名"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"isbn13",label:"ISBN13"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"isbn10",label:"ISBN10"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"price",label:"价格"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"score",label:"评分"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"publisher",label:"出版社"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"pubdate",label:"出版日期"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"isSold",label:"买卖状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{type:1===t.row.isSold?"success":"info"},on:{click:function(n){return e.changeIsSold(t.row.isbn13,t.row.isSold)}}},[e._v(e._s(1===t.row.isSold?"已卖":"待卖"))])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"receive",label:"是否接受"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{type:1===t.row.receive?"success":"warning"},on:{click:function(n){return e.changeReceive(t.row.isbn13,t.row.receive)}}},[e._v(e._s(1===t.row.receive?"接受":"不接受"))])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"修改时间"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(n){return e.remove(t.row.isbn13)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),n("div",{staticClass:"block",staticStyle:{padding:"16px 16px"}},[n("el-pagination",{attrs:{"current-page":e.page.index,"page-sizes":[2,5,10,20,30,50,100,200,500],"page-size":e.page.size,layout:"total, sizes, prev, pager, next, jumper",total:e.booksWithPage.total},on:{"update:currentPage":function(t){return e.$set(e.page,"index",t)},"update:current-page":function(t){return e.$set(e.page,"index",t)},"update:pageSize":function(t){return e.$set(e.page,"size",t)},"update:page-size":function(t){return e.$set(e.page,"size",t)}}})],1)],1)},a=[],o=(n("96cf"),n("3b8d")),s=n("bc3a"),i=n.n(s),l={data:function(){return{book:[],page:{size:5,index:1},code:null,input:null}},created:function(){this.loadBook()},computed:{booksWithPage:function(){var e=(this.page.index-1)*this.page.size;return{rows:this.book.slice(e,e+this.page.size),total:this.book.length}}},methods:{loadBook:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/unsold/boss").then(function(e){return e.data.data});case 2:this.book=e.sent,null==this.book&&(this.book=[]);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),remove:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("/book/unsold/"+t).then(function(e){return e.data.code});case 2:this.code=e.sent,0===this.code?this.$message({message:"删除成功",type:"success"}):this.$message({message:"删除失败",type:"warning"}),this.code=null,this.loadBook();case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),addBook:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/book"+{isbn:this.input,userId:8888}).then(function(e){return e.data.code});case 2:this.code=e.sent,0===this.code?this.$message({message:"添加成功",type:"success"}):this.$message({message:"添加失败",type:"warning"}),this.code=null,this.loadBook();case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),changeReceive:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.patch("/unsold/boss/receive",{isbn13:t,receive:n});case 2:this.loadBook();case 3:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),changeIsSold:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.patch("/unsold/boss/issold",{isbn13:t,isSold:n});case 2:this.loadBook();case 3:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()}},c=l,u=n("2877"),p=Object(u["a"])(c,r,a,!1,null,null,null);t["default"]=p.exports}}]);