<template>
  <div class="home">
    <div class="banner">
      <div class="banner-bg">
        <div class="banner-wrapper">
          <div class="logo">
            <img src="https://dzy-asset.oss-cn-beijing.aliyuncs.com/logo_small.png" />
          </div>
          <div class="text">多抓鱼其实有 App 了</div>
          <div class="open">打开 App</div>
        </div>
      </div>
    </div>
    <div class="search">
      <a class="search-wrap" href="/search">
        <span>
          <svg
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            xmlns="http://www.w3.org/2000/svg"
            class="Icon"
          >
            <circle cx="10.5" cy="10.5" r="7.5" />
            <line x1="21" y1="21" x2="15.8" y2="15.8" />
          </svg>
        </span>
        <div class="text">搜索多抓鱼</div>
      </a>
    </div>
    <div class="collections">
      <div class="collections-hiden-scroll">
        <div class="collections-scroll">
          <div
            v-for="(reook,index) in recommendbook "
            :key="index"
            @click="goBookCollection(reook.id)"
          >
            <div
              class="collection"
              :style="{'background':'linear-gradient(to top, rgba(170, 168, 131, 0.3) 35%, '+reook.bgColor+' 69%) center top/ auto no-repeat, url(https://images.weserv.nl/?url='+reook.image+') center center / cover no-repeat'}"
            >
              <h3 class="title">{{reook.name}}</h3>
              <div class="sub-title">{{reook.recommendCount}}人推荐了 {{reook.bookCount}}本书</div>
              <div class="avatars">
                <div v-for="(head,index) in reook.users " :key="index">
                  <img alt :src="'https://images.weserv.nl/?url='+head.headerImg" />
                </div>
              </div>
            </div>
          </div>
          <div class="book">
            <router-link to="/fulllistofbooks">
              <div class="icon">
                <svg
                  width="48.5"
                  viewBox="0 0 97 83"
                  style="fill: rgb(214, 186, 140); fill-rule: evenodd;"
                >
                  <path
                    d="M95.9184,51.7857C96.9388,51.3776
                                      97.3469,50.1531
                                      96.9388,49.1327C96.5306,48.1122
                                      95.3061,47.7041
                                      94.2857,48.1122C94.2857,48.1122
                                      93.8776,48.3163
                                      93.8776,48.3163C92.449,47.0918
                                      91.6327,45.2551
                                      91.6327,43.4184C91.6327,42.398
                                      91.8367,41.3776
                                      92.2449,40.5612C92.2449,40.5612
                                      95.9184,38.9286
                                      95.9184,38.9286C96.9388,38.5204
                                      97.3469,37.2959
                                      96.9388,36.2755C96.5306,35.2551
                                      95.3061,34.8469
                                      94.2857,35.2551C94.2857,35.2551
                                      93.8776,35.4592
                                      93.8776,35.4592C92.449,34.2347
                                      91.6327,32.398
                                      91.6327,30.5612C91.6327,29.5408
                                      91.8367,28.5204
                                      92.2449,27.7041C92.2449,27.7041
                                      95.9184,26.0714
                                      95.9184,26.0714C96.5306,25.6633
                                      97.1429,25.051
                                      97.1429,24.2347C97.1429,23.4184
                                      96.7347,22.8061
                                      95.9184,22.398C95.9184,22.398
                                      45.7143,0.153061
                                      45.7143,0.153061C45.102,-0.0510204
                                      44.6939,-0.0510204
                                      44.0816,0.153061C44.0816,0.153061
                                      5.5102,17.7041 5.5102,17.7041C5.5102,17.7041
                                      5.5102,17.7041
                                      5.30612,17.7041C2.04082,19.1327 0,22.398
                                      0,26.0714C0,28.5204 1.02041,30.7653
                                      2.65306,32.602C1.02041,34.2347 0,36.4796
                                      0,39.1327C0,41.5816 1.02041,44.0306
                                      2.65306,45.6633C1.02041,47.2959 0,49.5408
                                      0,52.1939C0,55.8673 2.04082,58.9286
                                      5.30612,60.5612L55.3061,82.8061L55.3061,82.8061C55.3061,82.8061
                                      55.3061,82.8061
                                      55.3061,82.8061C55.3061,82.8061
                                      55.3061,82.8061
                                      55.3061,82.8061C55.5102,82.8061
                                      55.7143,83.0102
                                      56.1224,83.0102C56.1224,83.0102
                                      56.3265,83.0102
                                      56.3265,83.0102C56.5306,83.0102
                                      56.7347,83.0102
                                      56.7347,82.8061C56.7347,82.8061
                                      56.9388,82.8061
                                      56.9388,82.8061C56.9388,82.8061
                                      95.7143,65.2551
                                      95.7143,65.2551C96.7347,64.8469
                                      97.1429,63.6224
                                      96.7347,62.602C96.3265,61.5816
                                      95.102,61.1735
                                      94.0816,61.5816C94.0816,61.5816
                                      93.6735,61.7857
                                      93.6735,61.7857C92.2449,60.5612
                                      91.4286,58.7245
                                      91.4286,56.8878C91.4286,55.8673
                                      91.6327,54.8469
                                      92.0408,54.0306C92.0408,54.0306
                                      95.9184,51.7857
                                      95.9184,51.7857ZM3.87755,38.9286C3.87755,37.0918
                                      4.69388,35.6633
                                      6.12245,34.6429C6.12245,34.6429
                                      52.2449,55.2551
                                      52.2449,55.2551C50.8163,56.8878 50,58.9286
                                      50,61.1735C50,61.7857 50,62.1939
                                      50.2041,62.8061C50.2041,62.8061
                                      6.93878,43.6224
                                      6.93878,43.6224C6.93878,43.6224
                                      6.93878,43.6224
                                      6.93878,43.6224C5.10204,42.602
                                      3.87755,40.9694
                                      3.87755,38.9286ZM92.449,49.1327C92.449,49.1327
                                      56.3265,65.4592
                                      56.3265,65.4592C54.898,64.4388
                                      53.8776,63.0102
                                      53.8776,61.1735C53.8776,59.1327 54.898,57.5
                                      56.7347,56.6837C56.7347,56.6837
                                      56.7347,56.6837
                                      56.9388,56.6837C56.9388,56.6837
                                      57.1429,56.6837
                                      57.1429,56.6837C57.1429,56.6837
                                      90.6122,41.5816
                                      90.6122,41.5816C90.4082,42.1939
                                      90.4082,43.0102
                                      90.4082,43.6224C90.2041,45.6633
                                      91.0204,47.7041
                                      92.449,49.1327ZM92.449,36.2755C92.449,36.2755
                                      56.3265,52.602 56.3265,52.602C54.898,51.5816
                                      53.8776,50.1531
                                      53.8776,48.3163C53.8776,46.2755
                                      54.898,44.6429
                                      56.7347,43.6224C56.7347,43.6224
                                      56.7347,43.6224
                                      56.9388,43.6224C56.9388,43.6224
                                      90.4082,28.3163
                                      90.4082,28.3163C90.2041,28.9286
                                      90.2041,29.7449
                                      90.2041,30.5612C90.2041,32.8061
                                      91.0204,34.8469
                                      92.449,36.2755ZM44.898,4.03061L90.2041,24.2347L56.3265,39.7449L11.0204,19.5408L44.898,4.03061ZM6.12245,21.7857C6.12245,21.7857
                                      52.2449,42.398
                                      52.2449,42.398C50.8163,44.0306 50,46.0714
                                      50,48.5204C50,49.1327 50,49.5408
                                      50.2041,50.1531C50.2041,50.1531
                                      6.93878,30.9694
                                      6.93878,30.9694C6.93878,30.9694
                                      6.73469,30.9694
                                      6.73469,30.9694C4.89796,30.1531
                                      3.87755,28.3163
                                      3.87755,26.4796C3.87755,24.2347
                                      4.69388,22.602
                                      6.12245,21.7857ZM6.93878,56.4796C5.10204,55.6633
                                      3.87755,53.8265
                                      3.87755,51.7857C3.87755,49.949
                                      4.69388,48.5204 6.12245,47.5C6.12245,47.5
                                      52.2449,68.1122
                                      52.2449,68.1122C50.8163,69.7449 50,71.7857
                                      50,74.2347C50,74.8469 50,75.2551
                                      50.2041,75.8673C50.2041,75.8673
                                      6.93878,56.4796
                                      6.93878,56.4796ZM92.449,61.9898C92.449,61.9898
                                      56.3265,78.3163 56.3265,78.3163C54.898,77.5
                                      54.0816,75.8673
                                      54.0816,74.2347C54.0816,72.1939
                                      55.102,70.5612
                                      56.9388,69.5408C56.9388,69.5408
                                      56.9388,69.5408
                                      57.1429,69.5408C57.1429,69.5408
                                      90.6122,54.2347
                                      90.6122,54.2347C90.4082,54.8469
                                      90.4082,55.6633
                                      90.4082,56.4796C90.2041,58.7245
                                      91.0204,60.5612 92.449,61.9898Z"
                  />
                </svg>
              </div>

              <div class="text">
                看全部书单
                <svg
                  width="7"
                  viewBox="0 0 13 24"
                  xmlns="http://www.w3.org/2000/svg"
                  style="margin-left: 7px;"
                >
                  <g
                    fill="currentColor"
                    transform="translate(-707.000000,
                                    -346.000000)"
                  >
                    <path
                      d="M720.039467,358
                                        C720.054396,357.701471
                                        719.947859,357.398 719.719857,357.169998
                                        L719.719857,357.169998
                                        L708.870845,346.320986
                                        L708.870845,346.320986
                                        C708.442863,345.893005
                                        707.748968,345.893005
                                        707.320986,346.320986
                                        C706.893005,346.748968
                                        706.893005,347.442863
                                        707.320986,347.870845 L717.450141,358
                                        L707.320986,368.129155
                                        C706.893005,368.557137
                                        706.893005,369.251032
                                        707.320986,369.679014
                                        C707.748968,370.106995
                                        708.442863,370.106995
                                        708.870845,369.679014
                                        L719.719857,358.830002
                                        L719.719857,358.830002
                                        C719.947859,358.602
                                        720.054396,358.298529 720.039467,358 Z"
                    />
                  </g>
                </svg>
              </div>
              <span class="desc">{{page.total}}个</span>
            </router-link>
          </div>
        </div>
      </div>
    </div>
    <div class="categories">
      <div class="catagory-hidden-scroll">
        <div class="catagory-scroll">
          <div class="category">
            <a href="/categories">全部分类</a>
          </div>
          <div class="category active">
            <a href="/categories/subscribed/176032101403984035">猜你喜欢</a>
            <span class="icon">
              <svg
                width="20px"
                height="8px"
                viewBox="0 0 40 16"
                version="1.1"
                fill="#D6BA8C"
                style="vertical-align: top;"
              >
                <g stroke="none" stroke-width="1" fill-rule="evenodd">
                  <path
                    d="M20,0 C20,12.2462435 36.2572674,16.0350903
                                40,15.9997556 L0,15.9997556
                                C3.73342115,15.9997556 20,12.2404655 20,0 Z"
                    id="Triangle-Copy"
                    transform="translate(20.000000, 8.000000)
                                scale(1, -1) translate(-20.000000, -8.000000)"
                  />
                </g>
              </svg>
            </span>
          </div>
          <div class="category">
            <a href>鱼友推荐</a>
          </div>
          <div class="category">
            <a href>豆瓣 8.5</a>
          </div>
          <div class="category">
            <a href>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="35"
                height="13"
                viewBox="0 0 35 13"
                fill="rgb(170, 170, 170)"
              >
                <g fill-rule="evenodd">
                  <path
                    d="M7.04639684.292157895C6.47371263.183778947 5.93797579.129589474 5.28729158.129589474 2.69728105.129589474 1.51291263 1.13004211 1.51291263 3.46511579L1.51291263 3.64041053C1.51291263 3.64041053.374933684 3.56076842.328954737 3.64041053.0547231579 4.11990526.139291579 6.27393684.328954737 6.27393684L1.51291263 6.27393684 1.51291263 11.9244211C1.51291263 12.0705684 1.63278632 12.1900316 1.77893368 12.1900316L4.60951263 12.1900316C4.74868105 12.1900316 4.86157579 12.0775474 4.86157579 11.9379684L4.86157579 6.48658947C4.86157579 6.36917895 4.95681789 6.27393684 5.07422842 6.27393684L6.69498632 6.27393684C6.86740737 6.27393684 7.00780737 6.13353684 7.00780737 5.96111579L7.00780737 3.96554737C7.00780737 3.78696842 6.86124947 3.64041053 6.68267053 3.64041053L4.86157579 3.64041053 4.86157579 3.50001053C4.86157579 2.90310526 5.08367053 2.49955789 5.93469158 2.49955789 5.93469158 2.49955789 6.82389158 2.51721053 7.06363895 2.51721053 7.32555474 2.51721053 7.31118632 1.14030526 7.29435474.576652632 7.28983895.435431579 7.18556526.318431579 7.04639684.292157895M12.0647116 5.29101368L12.0647116 3.93135053C12.0647116 3.77083474 11.9345747 3.64028737 11.7740589 3.64028737L9.17789053 3.64028737C9.01737474 3.64028737 8.88682737 3.77083474 8.88682737 3.93135053L8.88682737 11.7949821C8.88682737 12.0133821 9.06417474 12.1903189 9.28257474 12.1903189L11.6689642 12.1903189C11.8873642 12.1903189 12.0647116 12.0133821 12.0647116 11.7949821L12.0647116 8.22299263C12.3980589 7.01111895 13.1004695 6.74797158 14.1362274 6.74797158 14.43468 6.74797158 14.7158905 6.74797158 15.1370905 6.78327684L15.3476905 3.55325579C14.8735326 3.50029789 14.5927326 3.50029789 14.29428 3.50029789 13.3463747 3.50029789 12.6969221 4.04465579 12.0647116 5.29101368M19.6791126 7.08144211C19.8195126 6.11588421 20.2936705 5.65937895 21.0133232 5.65937895 21.8208284 5.65937895 22.2596811 6.15118947 22.2949863 7.08144211L19.6791126 7.08144211zM21.0133232 3.48235789C18.2570495 3.48235789 16.6243863 5.06288421 16.6243863 7.97721053 16.6243863 10.8381684 18.3100074 12.3480842 21.0133232 12.3480842 22.3623126 12.3480842 23.5007021 12.0020105 24.7487021 11.1846526 24.9203021 11.0725789 24.9827021 10.8406316 24.8915653 10.6567158L24.3287337 9.51996842C24.23226 9.32496842 23.9945653 9.24696842 23.7950495 9.334 22.8898389 9.72892632 22.1800389 9.90832632 21.1537232 9.90832632 20.2936705 9.90832632 19.8544074 9.57456842 19.6967653 8.76665263L24.98106 8.76665263C25.0336074 8.27525263 25.0508495 7.97721053 25.0508495 7.59049474 25.0508495 4.93972632 23.4887968 3.48235789 21.0133232 3.48235789zM29.2657232 7.08144211C29.4061232 6.11588421 29.8802811 5.65937895 30.5999337 5.65937895 31.4074389 5.65937895 31.8462916 6.15118947 31.8815968 7.08144211L29.2657232 7.08144211zM30.5999337 3.48235789C27.84366 3.48235789 26.2109968 5.06288421 26.2109968 7.97721053 26.2109968 10.8381684 27.8962074 12.3480842 30.5999337 12.3480842 31.9489232 12.3480842 33.0873126 12.0020105 34.3353126 11.1846526 34.5069126 11.0725789 34.5693126 10.8406316 34.4781758 10.6567158L33.9153442 9.51996842C33.8188705 9.32496842 33.5811758 9.24696842 33.3812495 9.334 32.4760389 9.72892632 31.7666495 9.90832632 30.7403337 9.90832632 29.8802811 9.90832632 29.4410179 9.57456842 29.2833758 8.76665263L34.5676705 8.76665263C34.6202179 8.27525263 34.6378705 7.97721053 34.6378705 7.59049474 34.6378705 4.93972632 33.0749968 3.48235789 30.5999337 3.48235789z"
                  />
                </g>
              </svg>
            </a>
          </div>
          <div class="category">
            <a href>特价区</a>
          </div>
          <div class="category">
            <a href>越贵越省钱</a>
          </div>
          <div class="category">
            <a href>新上架</a>
          </div>
          <div class="category">
            <a href>有年头的书</a>
          </div>
          <div class="category">
            <a href>只在多抓鱼有</a>
          </div>
        </div>
      </div>
    </div>

    <div class="books">
      <div class="book" v-for="(book,index) in books" :key="index" @click="checkBook(book)">
        <div class="cover">
          <img :src="'https://images.weserv.nl/?url='+book.pic" alt />
        </div>
        <div class="content">
          <div class="header">
            <div class="left">
              <h3 class="title">{{book.title}}</h3>
              <div class="authors">{{book.author}}</div>
              <div class="rating">豆瓣评分{{book.score}}</div>
            </div>
            <div class="right">
              <img alt src="../../assets/avatars/456ca0847b0911e985c602420ac801e0.jpeg" />
            </div>
          </div>
          <div class="summary">
            <div class="price">
              <span class="market">
                {{(book.price*0.3).toFixed(2)}}
                <span class="suffix">起</span>
              </span>
              <span class="discount">{{book.discount}}折</span>
            </div>
            <div class="close">
              <svg
                viewBox="19 19 22 22"
                stroke-linecap="round"
                width="11"
                height="11"
                stroke="rgb(170, 170, 170)"
                stroke-width="2"
              >
                <g transform="translate(21.000000, 21.000000)">
                  <path d="M0.333333333,0.333333333 L17.4148373,17.4148373" />
                  <path
                    d="M0.333333333,0.333333333 L17.4148373,17.4148373"
                    transform="translate(9.000000, 9.000000) scale(-1, 1) translate(-9.000000, -9.000000)"
                  />
                </g>
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="tabbar">
      <a href="/" class="active">
        <svg viewBox="0 0 46 46" class="Nav-svg" width="22px" style="fill:rgb(24, 195, 170)">
          <path
            d="M40.408626,19.0936037 C41.5142794,19.0936037 41.7818872,18.4605103 40.999899,17.6798584 C40.999899,17.6798584 40.2374609,16.8932902 39.3786323,16.1092182 L28.307135,6.00143742 C25.3835998,3.33238081 20.5250347,3.33332761 17.6025366,6.00143742 L6.53103934,16.1092182 C5.27063301,17.2599127 4.94536401,17.5976819 4.94536401,17.5976819 C4.15404803,18.3630748 4.40272061,18.9835484 5.51069352,18.9835484 L8.12933604,18.9835484 L8.12933604,38.9782179 C8.12933604,40.6506196 9.44018899,42 11.0589093,42 L15.1960178,42 L15.1960178,36.1142596 C15.1960178,33.3521692 17.3690855,31.1184079 20.0602903,31.1184079 L25.9028188,31.1184079 C28.5876179,31.1184079 30.7670913,33.3503112 30.7670913,36.1142596 L30.7670913,42 L34.4156598,42 C36.0394895,42 37.3452331,40.6533202 37.3452331,38.9782179 L37.3452331,19.0936037 L40.408626,19.0936037 Z M28.9248518,45 L17.5567028,45 L11.0589093,45 C7.82972191,45 5.21194826,42.3082595 5.21194826,38.9782179 L5.21194826,21.9835484 C-0.845715653,22.0536625 0.249139206,17.8325867 4.5941418,13.8657941 L15.665639,3.75801332 C19.6913513,0.0827185006 26.2138163,0.0786065279 30.2440326,3.75801332 L41.3155298,13.8657941 C45.7999206,17.9598419 47.0068349,21.9607063 40.2626209,22.0536625 L40.2626209,38.9782179 C40.2626209,42.3039563 37.6567593,45 34.4156598,45 L28.9248518,45 Z M27.8497036,42 L27.8497036,36.1142596 C27.8497036,35.0088943 26.9780536,34.1184079 25.9028188,34.1184079 L20.0602903,34.1184079 C18.9774371,34.1184079 18.1134056,35.0119812 18.1134056,36.1142596 L18.1134056,42 L27.8497036,42 Z"
          />
        </svg>
        <div class="text">首页</div>
      </a>
      <router-link to="/sell">
        <svg viewBox="0 0 46 46" class="Nav-svg" width="22px" style="fill:rgb(102, 102, 102)">
          <path
            d="M19,45 L7.00532266,45 C3.67643992,45 1,42.3124666 1,38.9972261 L1,7.00277388 C1,3.68616253 3.68867454,1 7.00532266,1 L19,1 L38.9944332,1 C42.3074511,1 44.9946773,3.68753341 44.9946773,7.00277388 L44.9946773,38.9972261 C44.9946773,42.3138375 42.3082765,45 38.9944332,45 L19,45 Z M6.99467734,4.00001841 C5.33892147,4.00574691 4,5.34742752 4,7.00277388 L4,38.9972261 C4,40.6569606 5.33248781,41.994294 6.99467734,41.9999818 L6.99467734,4.00001709 Z M9.99467734,42 L38.9944332,42 C40.6517185,42 41.9946773,40.6566869 41.9946773,38.9972261 L41.9946773,7.00277388 C41.9946773,5.34445361 40.6506626,4 38.9944332,4 L9.99467734,4 L9.99467734,42 Z M15.9946773,11.0085302 C15.9946773,9.8992496 16.8928897,9 17.9854725,9 L34.0038822,9 C35.103368,9 35.9946773,9.90195036 35.9946773,11.0085302 L35.9946773,18.9914698 C35.9946773,20.1007504 35.096465,21 34.0038822,21 L17.9854725,21 C16.8859867,21 15.9946773,20.0980496 15.9946773,18.9914698 L15.9946773,11.0085302 Z M18.9946773,18 L32.9946773,18 L32.9946773,12 L18.9946773,12 L18.9946773,18 Z"
          />
        </svg>
        <div class="text">卖书</div>
      </router-link>
      <a href="/cart">
        <svg viewBox="0 0 46 46" class="Nav-svg" width="22px" style="fill:rgb(102, 102, 102)">
          <path
            d="M5.13634582,14.9000848 C4.99035474,14.4862269 4.60514195,12.5971561 3.75482474,7.77983331 C2.83501781,3.52910793 4.43253177,0.5 8.76864821,0.5 L20.2546528,0.5 C21.0831633,0.5 21.7548039,1.17157288 21.7548039,2 C21.7548039,2.82842712 21.0831633,3.5 20.2546528,3.5 L8.76864821,3.5 C6.67624454,3.5 6.12473309,4.54574216 6.69830817,7.2015831 C6.81046467,7.83616231 6.91540462,8.42422373 7.01338927,8.96769281 C8.25306859,7.72925282 10.0046811,6.97740113 12.0370705,6.97740113 L33.2099771,6.97740113 C37.6256869,6.97740113 40.715656,10.5215446 40.1103966,14.9022962 L38.5838965,25.9508111 C37.9791832,30.3276098 33.9027269,33.8757062 29.4825248,33.8757062 L15.7645229,33.8757062 C11.3426874,33.8757062 7.26841058,30.3315627 6.66315116,25.9508111 L5.13665105,14.9022962 C5.1365492,14.901559 5.13644746,14.9008219 5.13634582,14.9000848 Z M10.5160122,46.5 C7.63321442,46.5 5.29950051,44.1540314 5.29950051,41.2641243 C5.29950051,38.3742171 7.63321442,36.0282486 10.5160122,36.0282486 C13.3988099,36.0282486 15.7325238,38.3742171 15.7325238,41.2641243 C15.7325238,44.1540314 13.3988099,46.5 10.5160122,46.5 Z M10.5160122,43.5 C11.738193,43.5 12.7322217,42.5007515 12.7322217,41.2641243 C12.7322217,40.0274971 11.738193,39.0282486 10.5160122,39.0282486 C9.29383135,39.0282486 8.29980262,40.0274971 8.29980262,41.2641243 C8.29980262,42.5007515 9.29383135,43.5 10.5160122,43.5 Z M36.2175797,46.5 C33.334782,46.5 31.0010681,44.1540314 31.0010681,41.2641243 C31.0010681,38.3742171 33.334782,36.0282486 36.2175797,36.0282486 C39.1003775,36.0282486 41.4340914,38.3742171 41.4340914,41.2641243 C41.4340914,44.1540314 39.1003775,46.5 36.2175797,46.5 Z M36.2175797,43.5 C37.4397606,43.5 38.4337893,42.5007515 38.4337893,41.2641243 C38.4337893,40.0274971 37.4397606,39.0282486 36.2175797,39.0282486 C34.9953989,39.0282486 34.0013702,40.0274971 34.0013702,41.2641243 C34.0013702,42.5007515 34.9953989,43.5 36.2175797,43.5 Z M9.63522588,25.540262 C10.0351674,28.434962 12.839098,30.8757062 15.7645229,30.8757062 L29.4825248,30.8757062 C32.4053871,30.8757062 35.2122993,28.4319287 35.6118218,25.540262 L37.1383219,14.491747 C37.4943309,11.9150223 35.8065182,9.97740113 33.2099771,9.97740113 L12.0370705,9.97740113 C9.44255541,9.97740113 7.75307191,11.9175926 8.10872577,14.491747 L9.63522588,25.540262 Z"
          />
        </svg>
        <div class="text">购物车</div>
      </a>
      <a href="/users">
        <svg viewBox="0 0 46 46" class="Nav-svg" width="22px" style="fill:rgb(102, 102, 102)">
          <path
            d="M11.6315789,12.2340426 C11.6315789,6.02965217 16.7213944,1 23,1 C29.2786056,1 34.3684211,6.02965217 34.3684211,12.2340426 C34.3684211,14.606682 33.624088,16.807528 32.3535828,18.6209987 C31.9895904,19.1405475 30.4160066,20.7629038 30.0271608,21.0654554 C30.5085498,21.1734693 32.4831837,21.786603 33.2739699,22.1670846 C37.8735453,24.3077079 41,28.5097261 41,33.3461158 L41,41.0382649 C41,43.2262708 39.2147544,45 36.9924916,45 L9.0075084,45 C6.79422262,45 5,43.2300258 5,41.0382649 L5,33.3461158 C5,28.510965 8.12452331,24.3075795 12.7255583,22.1666081 C13.2504333,21.9223712 15.4911714,21.1731971 15.9725564,21.0652353 C15.5837584,20.7627014 14.2475509,19.4541476 13.6461576,18.6206281 C12.3758106,16.8072282 11.6315789,14.6065204 11.6315789,12.2340426 Z M16.6375368,23.9605999 C11.5267967,25.1068021 8.00451128,28.9924967 8.00451128,33.3461158 L8.00451128,41.0382649 C8.00451128,41.5888298 8.45208633,42.031003 9.0075084,42.031003 L36.9924916,42.031003 C37.5509942,42.031003 37.9954887,41.5909045 37.9954887,41.0382649 L37.9954887,33.3461158 C37.9954887,28.9928112 34.4721141,25.1073846 29.3618806,23.9607527 L23.2204185,22.5827343 L28.1684742,18.732771 C30.1738544,17.1724329 31.3639098,14.8031405 31.3639098,12.2340426 C31.3639098,7.66938392 27.6192598,3.96899696 23,3.96899696 C18.3807402,3.96899696 14.6360902,7.66938392 14.6360902,12.2340426 C14.6360902,14.8030485 15.8260593,17.1722646 17.8313174,18.7326089 L22.779701,22.583077 L16.6375368,23.9605999 Z"
          />
        </svg>
        <div class="text">我的</div>
      </a>
    </div>
  </div>
</template>

<style lang="scss">
@import "../../assets/scss/home/home.scss";
</style>

<script>
import axios from "axios";
import { Base64 } from "js-base64";

const appearance_new = 0;
const appearance_good = 1;
const appearance_secondary = 2;
const appearance_bad = 3;

export default {
  data() {
    return {
      books: [],
      recommendbook: [],
      arrhead: [],
      addid: [],
      portrait: [],
      headerImgs: [],
      appearance_new,
      appearance_good,
      appearance_secondary,
      appearance_bad,
      page: {
        index: 1,
        size: "",
        total: "",
        totalPage: ""
      },
      count: 0
    };
  },
  created() {
    this.booklist();
    this.recommend();
    this.recmend();
    this.bookid();
  },
  methods: {
    async booklist() {
      await axios
        .get("/warehouse/books")
        .then(res => (this.books = res.data.data));
      // console.info(this.books);
    },
    async bookid() {
      await axios
        .get("/book/collection?isLimit=1")
        .then(res => (this.addid = res.data.data.id));
    },
    async booklphoto(id) {
      await axios
        .get("/book/collection/img?count=3&collectionId=" + id)
        .then(res => (this.arrhead = res.data.arrhead));
      // console.info(this.arrhead);
    },
    async recommend() {
      await axios
        .get("/book/collection?isLimit=1")
        .then(res => (this.recommendbook = res.data.data));
    },

    async recmend() {
      await axios
        .get("/book/collection?isLimit=0")
        .then(res => (this.page = res.data.pager));
      console.info(this.page);
    },
    checkBook(book) {
      this.$router.push({
        path: "/detaile",
        query: {
          bookId: book.bookId
        }
      });
    },
    decoudeBase64(base64) {
      Base64.extendString();
      base64 =
        "iVBORw0KGgoAAAANSUhEUgAAANwAAADcCAIAAACUOFjWAAAECUlEQVR4nO3dwa7TMBRAQYr4/19+LNghmZJix8dhZguqSnPkxcWOX19fX9+g5PvuLwC/EyU5oiRHlOSIkhxRkiNKckRJjijJ+fHnP369Xvd8j3+0+v+lrv4Oo+8z+pxZ3/8Zz8tKSY4oyRElOaIkR5TkiJIcUZLzZk45smu/+q453NV/79V55Kw56Ky/P8tnz8tKSY4oyRElOaIkR5TkiJIcUZLz4ZxyZNYccfX+wln7HWftj5w1v7yq9rx+sVKSI0pyREmOKMkRJTmiJEeU5EyeUz7V6vPaI//ne5atlOSIkhxRkiNKckRJjijJESU5D59Tnr5PceTZ80srJTmiJEeU5IiSHFGSI0pyREnO5DnlKfOzXffWzHrP5SzN52WlJEeU5IiSHFGSI0pyREmOKMn5cE55yr3Sp7xvsnZf+V5WSnJESY4oyRElOaIkR5TkiJKcV3NHXc3q+7uvevZTs1KSI0pyREmOKMkRJTmiJEeU5Nz0fspZ56Nrn/NUe38fKyU5oiRHlOSIkhxRkiNKckRJzpv9lKfsI1x9nnrXuena73zVZ8/FSkmOKMkRJTmiJEeU5IiSHFGS82Y/ZW0f4eq56ax/76x5am3f5z3v17RSkiNKckRJjijJESU5oiRHlOTcdO67Nu885Z6b2v069/xuVkpyREmOKMkRJTmiJEeU5IiSnDdzylnni2fNsa5+zq5z083539/b+32slOSIkhxRkiNKckRJjijJESU5k/dTrp4Lrp6f7ZprjpxyHnzE+yl5CFGSI0pyREmOKMkRJTmiJOemc99X7brXe/X8b/T5u+a4qz/fuW8eQpTkiJIcUZIjSnJESY4oybnpvu9T9gWunuddteu8/KzPsZ+ShxAlOaIkR5TkiJIcUZIjSnJu2k+5ek42y673Mq7e93n1c/Y+FyslOaIkR5TkiJIcUZIjSnJESc6b/ZSnO/29klc//6pd5+vtp+QwoiRHlOSIkhxRkiNKckRJzk33fa82676ckVn7HVfPL0+5H/zPrJTkiJIcUZIjSnJESY4oyRElOR+e+67dHz0y6xx37Xz6SG13rHt0eAhRkiNKckRJjijJESU5oiRn8vspTznXvOs9lLPsek/nPayU5IiSHFGSI0pyREmOKMkRJTk33aNTs+te8l3nwXedNx/xfkoOI0pyREmOKMkRJTmiJEeU5Dx8TnnKexlXz0HP2ldqpSRHlOSIkhxRkiNKckRJjijJmTynrJ2PHpk1h1s9z1s9d5z1feY+dyslOaIkR5TkiJIcUZIjSnJESc6Hc8pT7gG/atc+wtp7MVfvE3Xum8OIkhxRkiNKckRJjijJESU5r1N2QPL/sFKSI0pyREmOKMkRJTmiJEeU5IiSHFGS8xPUDH7RGdzjwQAAAABJRU5ErkJggg==";
      return base64.fromBase64();
    },
    goBookCollection(id) {
      this.$router.push({ path: "/listdetails", query: { booklistid: id } });
    }
  }
};
</script>